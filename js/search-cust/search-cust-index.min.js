(function(n){function i(){n("#step-1").find("table").removeClass("display-none").addClass("display-none");n("#step-1").find(".msg").html("")}function r(t){var i=n("#step-1"),r,f,u;t&&t.length>0?(r=8,f=myDataTable(i.find("table"),r),n.each(t,function(t,i){var p=i.status?i.status:"",w=i.regId?i.regId:"",b=i.cstRegId?i.cstRegId:"",r=i.customerName?i.customerName:"-----",u=i.customerPhone?i.customerPhone:"-----",e=i.customerIdentityNo?i.customerIdentityNo:"-----",k=i.customerIdentityTypeName?i.customerIdentityTypeName:"-----",o=i.regDate?formatDate(i.regDate):"-----",s=i.updDate?formatDate(i.updDate):"-----",h=i.approveDate?formatDate(i.approveDate):"-----",c=i.createName?i.createName:"-----",l=i.approveName?i.approveName:"-----",d=i.descr?i.descr:"-----",a=i.statusName?i.statusName:"-----",v=i.url?i.url:"/",y=`<tr>
                                <td class="text-center">${t+1}</td>
                                <td class="text-center">${r}</td>
                                <td class="text-center">${e}</td>
                                <td class="text-center">${u}</td>
                                <td class="text-center">${o}</td>
                                <td class="text-center">${s}</td>
                                <td class="text-center">${c}</td>
                                <td class="text-center">${h}</td>
                                <td class="text-center">${l}</td>
                                <td class="text-center">${a}</td>
                                <td class="text-center">
                                    <a href="${v}" class="btn btn-sm btn-secondary btn-select-customer"><i class="far fa-check-circle"></i> Chọn</a>
                                </td>
                            </tr>`;f.row.add(n(y)).draw()}),i.find("table").removeClass("display-none"),u=i.find(".dataTables_wrapper .row .dataTables_paginate").parent().parent(),u.removeClass("display-none"),t.length<=r&&u.addClass("display-none")):(i.find("table").removeClass("display-none").addClass("display-none"),i.find("table tbody").html(""))}var t={};n(document).ready(function(){n('input[name="FilterValue"]').keypress(function(t){var i=t.which;return i===13?(n("#btn-search-customer").click(),!1):!0});n(document).on("click","#btn-search-customer",function(){i();var u=n("#frm-search-customer");return(u.validate({rules:{Filter:{required:!1},FilterValue:{required:!1},Status:{required:!1}},messages:{Filter:{required:"Vui lòng chọn"},FilterValue:{required:"Vui lòng nhập"},Status:{required:"Vui lòng chọn"}}}),t.status=n("select[name='Status']").val(),u.valid()===!0)?(t.filter=n("select[name='Filter']").val(),t.filterValue=n.trim(n("input[name='FilterValue']").val()),t.status=n("select[name='Status']").val(),n.ajax({url:"/SearchCust/GetCusUpdateList",type:"post",dataType:"json",data:t,success:function(t){if(t&&t.success===!0){var i=t.data;r(i.data);i.data.length>0?n("#step-1").find(".msg").html(""):n("#step-1").find(".msg").html("").html('<p class="text-danger"><strong>Không có KH nào thỏa điều kiện tìm kiếm<\/strong><\/p>')}else n("#step-1").find("table tbody").html(""),n("#step-1").find("table").removeClass("display-none").addClass("display-none"),n("#step-1").find(".msg").html(""),notifyDanger("Không tìm thấy dữ liệu"),console.log(t.message)},error:function(n){console.log(n.responseText)}}),!0):!1})})})(jQuery);